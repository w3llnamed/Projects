# Создание запросов к реляционной базе данных с помощью PostgreSQL

## Описание

Этот учебный проект был выполнен в рамках обучения профессии "Аналитик данных" на платформе Яндекс.Практикум.

Проект был выполнен в `Jupyter Notebook` на языке `Python 3` и `SQL` в октябре 2022 года.



## Цель проекта

Проанализировать базу данных сервиса чтения книг по подписке.

## Используемый стек

1. Библиотеки `Python`:
    * `pandas`
    * `sqlalchemy`
2. `PostgreSQL`


## Задачи

1. Ознакомиться с данными
2. Посчитать количество книг, вышедших после 1 января 2000 года
3. Для каждой книги посчитать количество обзоров и среднюю оценку
4. Определить издательство, выпустившее наибольшее число книг толще 50 страниц
5. Определить автора с самой высокой средней оценкой книг (книги с 50-ю и более страницами)
6. Посчитать среднее количество обзоров от пользователей, которые поставили больше 50 оценок
7. Вывести книги с самым высоким средним рейтингом для каждого автора

## Данные

Схема БД:


![image](https://user-images.githubusercontent.com/117816753/204102267-de77bf45-2d5c-4949-b18b-f6995aaaee70.png "Схема")


**Таблица `books`**

Данные о книгах:

- `book_id` — идентификатор книги
- `author_id` — идентификатор автора
- `title` — название книги
- `num_pages` — количество страниц
- `publication_date` — дата публикации книги
- `publisher_id` — идентификатор издателя
<br>

**Таблица `authors`**

Данные об авторах:

- `author_id` — идентификатор автора
- `author` — имя автора
<br>

**Таблица `publishers`**

Данные об издательствах:

- `publisher_id` — идентификатор издательства
- `publisher` — название издательства
<br>

**Таблица `ratings`**

Данные о пользовательских оценках книг:

- `rating_id` — идентификатор оценки
- `book_id` — идентификатор книги
- `username` — имя пользователя, оставившего оценку
- `rating` — оценка книги
<br>

**Таблица `reviews`**

Данные о пользовательских обзорах на книги:

- `review_id` — идентификатор обзора
- `book_id` — идентификатор книги
- `username` — имя пользователя, написавшего обзор
- `text` — текст обзора
